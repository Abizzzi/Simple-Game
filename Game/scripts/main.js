$(window).ready(function e()
{
	fixres();
	$("#dor1").css("top", 10);
	$("#dor1").css("left", 10);
	$("#dor1").css("width", 980);
	$("#dor2").css("top", 10);
	$("#dor2").css("left", 10);
	$("#dor2").css("height", 480);
	$("#dor3").css("top", 480);
	$("#dor3").css("left", 10);
	$("#dor3").css("width", 980);
	$("#dor4").css("top", 10);
	$("#dor4").css("left", 980);
	$("#dor4").css("height", 480);
	$("#dor1").css("background-color", "orange");
	$("#dor2").css("background-color", "orange");
	$("#dor3").css("background-color", "orange");
	$("#dor4").css("background-color", "orange");
	$("#p1").css("top", 20);
	$("#p1").css("left", 65);
	$("#p1").css("height", 150);
	$("#p2").css("top", 100);
	$("#p2").css("left", 50);
	$("#p2").css("width", 15);
	$("#p3").css("top", 160);
	$("#p3").css("left", 20);
	$("#p3").css("width", 12);
	$("#p4").css("top", 210);
	$("#p4").css("left", 20);
	$("#p4").css("width", 300);
	$("#p5").css("top", 50);
	$("#p5").css("left", 310);
	$("#p5").css("height", 160);
	$("#p6").css("top", 180);
	$("#p6").css("left", 100);
	$("#p7").css("top", 40);
	$("#p7").css("left", 100);
	$("#p8").css("top", 180);
	$("#p8").css("left", 270);
	$("#p9").css("top", 40);
	$("#p9").css("left", 270);
	$("#p10").css("top", 40);
	$("#p10").css("left", 170);
	$("#p11").css("top", 180);
	$("#p11").css("left", 200);
	$("#p12").css("top", 120);
	$("#p12").css("left", 120);
	$("#p13").css("top", 30);
	$("#p13").css("left", 120);
	$("#p14").css("top", 20);
	$("#p14").css("left", 360);
	$("#p14").css("height", 420);
	$("#p15").css("top", 260);
	$("#p15").css("left", 60);
	$("#p15").css("width", 310);
	$("#p16").css("top", 470);
	$("#p16").css("left", 20);
	$("#p16").css("width", 40);
	$("#p17").css("top", 470);
	$("#p17").css("left", 61);
	$("#p17").css("width", 40);
	$("#p18").css("top", 470);
	$("#p18").css("left", 102);
	$("#p18").css("width", 40);
	$("#p19").css("top", 470);
	$("#p19").css("left", 143);
	$("#p19").css("width", 40);
	$("#p20").css("top", 470);
	$("#p20").css("left", 184);
	$("#p20").css("width", 40);
	$("#p21").css("top", 271);
	$("#p21").css("left", 225);
	$("#p21").css("width", 40);
	$("#p22").css("top", 271);
	$("#p22").css("left", 272);
	$("#p22").css("width", 40);
	$("#p23").css("top", 271);
	$("#p23").css("left", 319);
	$("#p23").css("width", 40);
	$("#c1").css("top", 229);
	$("#c1").css("left", 80);
	$("#c2").css("top", 449);
	$("#c2").css("left", 900);
	$("#c3").css("top", 29);
	$("#c3").css("left", 470);
	$("#c4").css("top", 240);
	$("#c4").css("left", 949);
	$("#c4").css("background-color", "lime");
	$("#c4").css("border", "1px solid #00ff00");
	$("#c4").css("box-shadow", "0px 0px 50px 5px lime");
	$("#p24").css("top", 380);
	$("#p24").css("left", 370);
	$("#p24").css("width", 70);
	$("#p25").css("top", 390);
	$("#p25").css("left", 430);
	$("#p25").css("height", 50);
	$("#p26").css("top", 430);
	$("#p26").css("left", 430);
	$("#p26").css("width", 510);
	$("#p27").css("top", 440);
	$("#p27").css("left", 10);
	$("#p27").css("height", 40);
	$("#p27").css("background-color", "orange");
	$("#p28").css("top", 380);
	$("#p28").css("left", 490);
	$("#p28").css("width", 490);
	$("#p29").css("top", 70);
	$("#p29").css("left", 490);
	$("#p29").css("height", 310);
	$("#p30").css("top", 60);
	$("#p30").css("left", 420);
	$("#p30").css("width", 80);
	$("#p31").css("top", 60);
	$("#p31").css("left", 430);
	$("#p31").css("width", 60);
	$("#p31").css("display", "none");
	$("#p32").css("top", 60);
	$("#p32").css("left", 370);
	$("#p32").css("width", 60);
	$("#p32").css("display", "none");
	$("#p33").css("top", 60);
	$("#p33").css("left", 430);
	$("#p33").css("width", 60);
	$("#p33").css("display", "none");
	$("#p34").css("top", 60);
	$("#p34").css("left", 370);
	$("#p34").css("width", 60);
	$("#p34").css("display", "none");
	$("#p35").css("top", 20);
	$("#p35").css("left", 540);
	$("#p35").css("height", 60);
	$("#p36").css("top", 120);
	$("#p36").css("left", 540);
	$("#p36").css("height", 110);
	$("#p37").css("top", 270);
	$("#p37").css("left", 500);
	$("#p37").css("width", 100);
	$("#p38").css("top", 120);
	$("#p38").css("left", 550);
	$("#p38").css("width", 50);
	$("#p39").css("top", 60);
	$("#p39").css("left", 590);
	$("#p39").css("height", 60);
	$("#p40").css("top", 60);
	$("#p40").css("left", 590);
	$("#p40").css("width", 100);
	$("#p41").css("top", 20);
	$("#p41").css("left", 690);
	$("#p41").css("height", 50);
	$("#p42").css("top", 220);
	$("#p42").css("left", 550);
	$("#p42").css("width", 150);
	$("#p43").css("top", 270);
	$("#p43").css("left", 640);
	$("#p43").css("height", 60);
	$("#p44").css("top", 320);
	$("#p44").css("left", 550);
	$("#p44").css("width", 390);
	$("#p45").css("top", 170);
	$("#p45").css("left", 590);
	$("#p45").css("width", 150);
	$("#p46").css("top", 270);
	$("#p46").css("left", 930);
	$("#p46").css("height", 50);
	$("#p47").css("top", 270);
	$("#p47").css("left", 930);
	$("#p47").css("width", 50);
	$("#p48").css("top", 270);
	$("#p48").css("left", 690);
	$("#p48").css("width", 200);
	$("#p49").css("top", 70);
	$("#p49").css("left", 880);
	$("#p49").css("height", 200);
	$("#p50").css("top", 70);
	$("#p50").css("left", 930);
	$("#p50").css("height", 200);
	$("#p51").css("top", 60);
	$("#p51").css("left", 840);
	$("#p51").css("width", 100);
	$("#p52").css("top", 170);
	$("#p52").css("left", 740);
	$("#p52").css("height", 100);
	$("#p53").css("top", 110);
	$("#p53").css("left", 640);
	$("#p53").css("width", 110);
	$("#p54").css("top", 20);
	$("#p54").css("left", 740);
	$("#p54").css("height", 100);
	$("#p55").css("top", 20);
	$("#p55").css("left", 790);
	$("#p55").css("height", 210);
	$("#p56").css("top", 60);
	$("#p56").css("left", 835);
	$("#p56").css("height", 170);
	$("#p31").css("background-color", "black");
	$("#p32").css("background-color", "black");
	$("#p33").css("background-color", "black");
	$("#p34").css("background-color", "black");
	$("#p35").css("background-color", "black");
	$("#p36").css("background-color", "black");
	$("#p37").css("background-color", "black");
	$("#p38").css("background-color", "black");
	$("#p39").css("background-color", "black");
	$("#p40").css("background-color", "black");
	$("#p41").css("background-color", "black");
	$("#p42").css("background-color", "black");
	$("#p43").css("background-color", "black");
	$("#p44").css("background-color", "black");
	$("#p45").css("background-color", "black");
	$("#p46").css("background-color", "black");
	$("#p47").css("background-color", "black");
	$("#p48").css("background-color", "black");
	$("#p49").css("background-color", "black");
	$("#p50").css("background-color", "black");
	$("#p51").css("background-color", "black");
	$("#p52").css("background-color", "black");
	$("#p53").css("background-color", "black");
	$("#p54").css("background-color", "black");
	$("#p55").css("background-color", "black");
	$("#p56").css("background-color", "black");
    var oncedown = false;
    var onceup = false;
    var onceleft = false;
	var onceright = false;
	var bullets = false;
	var bulletframe = 0;
	var tr1 = false;
	var tr1val = 0;
	var tr2 = false;
	var tr2f = false;
	var tr2val = 0;
	var tr3 = false;
	var tr3f = false;
	var tr3val = 0;
	var tr4 = false;
	var tr4val = 0;
	var tr5 = false;
	var tr5val = 0;
	var tr6 = false;
	var tr6val = 0;
	var tr7 = false;
	var tr7val = 0;
	var tr8 = false;
	var tr8val = 0;
	var backtr8 = 0;
	var oncetr8 = false;
	var oncetr8back = false;
	var oncetr8done = false;
	var getinsane = false;
	var onceinsane = false;
	var shadowboxanim = 0;
	var movetr1 = 0;
	var movetr2 = 0;
	var movetr3 = 0;
	var movetr4 = 0;
	var enabletr2 = false;
	var enabletr3 = false;
	var enabletr4 = false;
	var right = 0;
	var left = 0;
	var up = 0;
	var down = 0;
	var checkpoint1left = 0;
	var checkpoint1top = 0;
	var checkpoint2left = 0;
	var checkpoint2top = 0;
	var checkpoint3left = 0;
	var checkpoint3top = 0;
	var checkpoint4left = 0;
	var checkpoint4top = 0;
	var p1top = 0;
	var p1left = 0;
	var p2top = 0;
	var p2left = 0;
	var p3top = 0;
	var p3left = 0;
	var p4top = 0;
	var p4left = 0;
	var p5top = 0;
	var p5left = 0;
	var p6top = 0;
	var p6left = 0;
	var p7top = 0;
	var p7left = 0;
	var p8top = 0;
	var p8left = 0;
	var p9top = 0;
	var p9left = 0;
	var p10top = 0;
	var p10left = 0;
	var p11top = 0;
	var p11left = 0;
	var p12top = 0;
	var p12left = 0;
	var p13top = 0;
	var p13left = 0;
	var p14top = 0;
	var p14left = 0;
	var p15top = 0;
	var p15left = 0;
	var p16top = 0;
	var p16left = 0;
	var p17top = 0;
	var p17left = 0;
	var p18top = 0;
	var p18left = 0;
	var p20top = 0;
	var p20left = 0;
	var p21top = 0;
	var p21left = 0;
	var p22top = 0;
	var p22left = 0;
	var p23top = 0;
	var p23left = 0;
	var p24top = 0;
	var p24left = 0;
	var p25top = 0;
	var p25left = 0;
	var p26top = 0;
	var p26left = 0;
	var p27top = 0;
	var p27left = 0;
	var p28top = 0;
	var p28left = 0;
	var p29top = 0;
	var p29left = 0;
	var p30top = 0;
	var p30left = 0;
	var p31top = 0;
	var p31left = 0;
	var p32top = 0;
	var p32left = 0;
	var p33top = 0;
	var p33left = 0;
	var p34top = 0;
	var p34left = 0;
	var p35left = 0;
	var p35top = 0;
	var p36left = 0;
	var p36top = 0;
	var p37left = 0;
	var p37top = 0;
	var p38left = 0;
	var p38top = 0;
	var p39left = 0;
	var p39top = 0;
	var p40left = 0;
	var p40top = 0;
	var p41left = 0;
	var p41top = 0;
	var p42left = 0;
	var p42top = 0;
	var p43left = 0;
	var p43top = 0;
	var p44left = 0;
	var p44top = 0;
	var p45left = 0;
	var p45top = 0;
	var p46left = 0;
	var p46top = 0;
	var p47left = 0;
	var p47top = 0;
	var p48left = 0;
	var p48top = 0;
	var p49left = 0;
	var p49top = 0;
	var p50left = 0;
	var p50top = 0;
	var p51left = 0;
	var p51top = 0;
	var p52left = 0;
	var p52top = 0;
	var p53left = 0;
	var p53top = 0;
	var p54left = 0;
	var p54top = 0;
	var p55left = 0;
	var p55top = 0;
	var p56left = 0;
	var p56top = 0;
	var savefile = 0;
	var win = 0;
	var onewin = 0;
	$("#l5-13").css("left", 1075);
	$("#l6-9").css("left", 1025);
	$("#l6-10").css("left", 1075);
	$("#l6-11").css("left", 1125);
	function fixres()
	{
		var widwin = window.innerWidth;
		var highwin = window.innerHeight;
		$(".limit").css("left", (widwin - 1006) / 2);
		$(".limit").css("top", (highwin - 506) / 2);
		checkpoint1left = $("#c1").offset().left + 2;
		checkpoint1top = $("#c1").offset().top + 2;
		checkpoint2left = $("#c2").offset().left + 2;
		checkpoint2top = $("#c2").offset().top + 2;
		checkpoint3left = $("#c3").offset().left + 2;
		checkpoint3top = $("#c3").offset().top + 2;
		checkpoint4left = $("#c4").offset().left + 2;
		checkpoint4top = $("#c4").offset().top + 2;
		p1left = $("#p1").offset().left;
		p2left = $("#p2").offset().left;
		p3left = $("#p3").offset().left;
		p4left = $("#p4").offset().left;
		p5left = $("#p5").offset().left;
		p14left = $("#p14").offset().left;
		p15left = $("#p15").offset().left;
		p16left = $("#p16").offset().left;
		p17left = $("#p17").offset().left;
		p18left = $("#p18").offset().left;
		p19left = $("#p19").offset().left;
		p20left = $("#p20").offset().left;
		p21left = $("#p21").offset().left;
		p22left = $("#p22").offset().left;
		p23left = $("#p23").offset().left;
		p24left = $("#p24").offset().left;
		p25left = $("#p25").offset().left;
		p26left = $("#p26").offset().left;
		p27left = $("#p27").offset().left;
		p28left = $("#p28").offset().left;
		p29left = $("#p29").offset().left;
		p30left = $("#p30").offset().left;
		p35left = $("#p35").offset().left;
		p36left = $("#p36").offset().left;
		p37left = $("#p37").offset().left;
		p38left = $("#p38").offset().left;
		p39left = $("#p39").offset().left;
		p40left = $("#p40").offset().left;
		p41left = $("#p41").offset().left;
		p42left = $("#p42").offset().left;
		p43left = $("#p43").offset().left;
		p44left = $("#p44").offset().left;
		p45left = $("#p45").offset().left;
		p46left = $("#p46").offset().left;
		p47left = $("#p47").offset().left;
		p48left = $("#p48").offset().left;
		p49left = $("#p49").offset().left;
		p50left = $("#p50").offset().left;
		p51left = $("#p51").offset().left;
		p52left = $("#p52").offset().left;
		p53left = $("#p53").offset().left;
		p54left = $("#p54").offset().left;
		p55left = $("#p55").offset().left;
		p56left = $("#p56").offset().left;
		p1top = $("#p1").offset().top;
		p2top = $("#p2").offset().top;
		p3top = $("#p3").offset().top;
		p4top = $("#p4").offset().top;
		p5top = $("#p5").offset().top;
		p14top = $("#p14").offset().top;
		p15top = $("#p15").offset().top;
		p16top = $("#p16").offset().top;
		p17top = $("#p17").offset().top;
		p18top = $("#p18").offset().top;
		p19top = $("#p19").offset().top;
		p20top = $("#p20").offset().top;
		p21top = $("#p21").offset().top;
		p22top = $("#p22").offset().top;
		p23top = $("#p23").offset().top;
		p24top = $("#p24").offset().top;
		p25top = $("#p25").offset().top;
		p26top = $("#p26").offset().top;
		p27top = $("#p27").offset().top;
		p28top = $("#p28").offset().top;
		p29top = $("#p29").offset().top;
		p30top = $("#p30").offset().top;
		p35top = $("#p35").offset().top;
		p36top = $("#p36").offset().top;
		p37top = $("#p37").offset().top;
		p38top = $("#p38").offset().top;
		p39top = $("#p39").offset().top;
		p40top = $("#p40").offset().top;
		p41top = $("#p41").offset().top;
		p42top = $("#p42").offset().top;
		p43top = $("#p43").offset().top;
		p44top = $("#p44").offset().top;
		p45top = $("#p45").offset().top;
		p46top = $("#p46").offset().top;
		p47top = $("#p47").offset().top;
		p48top = $("#p48").offset().top;
		p49top = $("#p49").offset().top;
		p50top = $("#p50").offset().top;
		p51top = $("#p51").offset().top;
		p52top = $("#p52").offset().top;
		p53top = $("#p53").offset().top;
		p54top = $("#p54").offset().top;
		p55top = $("#p55").offset().top;
		p56top = $("#p56").offset().top;
	}
	fixres();
	setInterval(checklose, 25);
	$(document).keydown(function (e) 
	{
		var a = "#ffffff";
		if (e.keyCode == 39 && onceright == false)
		{
			right = setInterval(goright, 6);
			onceright = true;
			$("#l6-11").css("background-color", a)
		}
		if (e.keyCode == 37 && onceleft == false)
		{
			left = setInterval(goleft, 6);
			onceleft = true;
			$("#l6-9").css("background-color", a)
		}
		if (e.keyCode == 38 && onceup == false)
		{
			up = setInterval(goup, 6);
			onceup = true;
			$("#l5-13").css("background-color", a)
		}
		if (e.keyCode == 40 && oncedown == false)
		{
			down = setInterval(godown, 6);
			oncedown = true;
			$("#l6-10").css("background-color", a)
		}
	});
	function checklose()
	{
		var playerleft = $(".player").offset().left;
		var playertop = $(".player").offset().top;
		// make everything black !! transition doesn't work, because of that, a lot of animation code here :
		if (getinsane == true)
		{
			if (onceinsane == false)
			{
				onceinsane = true;
				$("#p6").fadeOut(2000, function (e)
				{
					$("#p6").css("background-color", "#000000");
					$("#p6").fadeIn(1);
				});
				$("#p7").fadeOut(2000, function (e)
				{
					$("#p7").css("background-color", "#000000");
					$("#p7").fadeIn(1);
				});
				$("#p8").fadeOut(2000, function (e)
				{
					$("#p8").css("background-color", "#000000");
					$("#p8").fadeIn(1);
				});
				$("#p9").fadeOut(2000, function (e)
				{
					$("#p9").css("background-color", "#000000");
					$("#p9").fadeIn(1);
				});
				$("#p10").fadeOut(2000, function (e)
				{
					$("#p10").css("background-color", "#000000");
					$("#p10").fadeIn(1);
				});
				$("#p11").fadeOut(2000, function (e)
				{
					$("#p11").css("background-color", "#000000");
					$("#p11").fadeIn(1);
				});
				$("#p12").fadeOut(2000, function (e)
				{
					$("#p12").css("background-color", "#000000");
					$("#p12").fadeIn(1);
				});
				$("#p13").fadeOut(2000, function (e)
				{
					$("#p13").css("background-color", "#000000");
					$("#p13").fadeIn(1);
					$("#p32").fadeIn(1);
					$("#p31").fadeIn(1);
					$("#p33").fadeIn(1);
					$("#p34").fadeIn(1);
				});
				$(".checkpoint").css("transition", "all 2s ease");
				$(".checkpoint").css("background-color", "#000000");
				$(".checkpoint").css("box-shadow", "0px 0px 0px 0px");
				$("#dor1").css("transition", "2s");
				$("#dor1").css("background-color", "#000000");
				$("#dor2").css("transition", "2s");
				$("#dor2").css("background-color", "#000000");
				$("#dor3").css("transition", "2s");
				$("#dor3").css("background-color", "#000000");
				$("#dor4").css("transition", "2s");
				$("#dor4").css("background-color", "#000000");
				$("#p1").css("transition", "2s");
				$("#p1").css("background-color", "#000000");
				$("#p2").css("transition", "2s");
				$("#p2").css("background-color", "#000000");
				$("#p3").css("transition", "2s");
				$("#p3").css("background-color", "#000000");
				$("#p4").css("transition", "2s");
				$("#p4").css("background-color", "#000000");
				$("#p5").css("transition", "2s");
				$("#p5").css("background-color", "#000000");
				$("#p14").css("transition", "2s");
				$("#p14").css("background-color", "#000000");
				$("#p15").css("transition", "2s");
				$("#p15").css("background-color", "#000000");
				$("#p16").css("transition", "2s");
				$("#p16").css("background-color", "#000000");
				$("#p17").css("transition", "2s");
				$("#p17").css("background-color", "#000000");
				$("#p18").css("transition", "2s");
				$("#p18").css("background-color", "#000000");
				$("#p19").css("transition", "2s");
				$("#p19").css("background-color", "#000000");
				$("#p20").css("transition", "2s");
				$("#p20").css("background-color", "#000000");
				$("#p21").css("transition", "2s");
				$("#p21").css("background-color", "#000000");
				$("#p22").css("transition", "2s");
				$("#p22").css("background-color", "#000000");
				$("#p23").css("transition", "2s");
				$("#p23").css("background-color", "#000000");
				$("#p24").css("transition", "2s");
				$("#p24").css("background-color", "#000000");
				$("#p25").css("transition", "2s");
				$("#p25").css("background-color", "#000000");
				$("#p26").css("transition", "2s");
				$("#p26").css("background-color", "#000000");
				$("#p27").css("transition", "2s");
				$("#p27").css("background-color", "#000000");
				$("#p28").css("transition", "2s");
				$("#p28").css("background-color", "#000000");
				$("#p29").css("transition", "2s");
				$("#p29").css("background-color", "#000000");
				$("#p30").css("transition", "2s");
				$("#p30").css("background-color", "#000000");
			}
			shadowboxanim++;
			if (shadowboxanim == 43) { $(".player").css("box-shadow", "0px 0px 51px 6px lime"); }
			if (shadowboxanim == 46) $(".player").css("box-shadow", "0px 0px 53px 7px lime");
			if (shadowboxanim == 49) $(".player").css("box-shadow", "0px 0px 55px 8px lime");
			if (shadowboxanim == 52) $(".player").css("box-shadow", "0px 0px 56px 9px lime");
			if (shadowboxanim == 55) $(".player").css("box-shadow", "0px 0px 58px 10px lime");
			if (shadowboxanim == 58) $(".player").css("box-shadow", "0px 0px 62px 11px lime");
			if (shadowboxanim == 61) $(".player").css("box-shadow", "0px 0px 65px 12px lime");
			if (shadowboxanim == 64) $(".player").css("box-shadow", "0px 0px 68px 13px lime");
			if (shadowboxanim == 67) $(".player").css("box-shadow", "0px 0px 72px 14px lime");
			if (shadowboxanim == 90) $(".player").css("box-shadow", "0px 0px 75px 15px lime");
		}
		bulletframe++;
		if (bulletframe == 48)
		{
			if (bullets == false)
			{
				bulletframe = 0;
				bullets = true;
			}
			else if (bullets == true)
			{
				bulletframe = 0;
				bullets = false;
			}
		}
		if (bullets == false)
		{
			$("#p6").css("left", "+=1");
			$("#p6").css("top", "-=3");
			$("#p7").css("left", "+=1");
			$("#p7").css("top", "+=3");
			$("#p8").css("left", "-=1");
			$("#p8").css("top", "-=3");
			$("#p9").css("left", "-=1");
			$("#p9").css("top", "+=3");
			$("#p10").css("top", "+=3");
			$("#p11").css("top", "-=3");
			$("#p12").css("left", "+=4");
			$("#p13").css("left", "+=4");
			p6left = $("#p6").offset().left;
			p7left = $("#p7").offset().left;
			p8left = $("#p8").offset().left;
			p9left = $("#p9").offset().left;
			p10left = $("#p10").offset().left;
			p11left = $("#p11").offset().left;
			p12left = $("#p12").offset().left;
			p13left = $("#p13").offset().left;
			p6top = $("#p6").offset().top;
			p7top = $("#p7").offset().top;
			p8top = $("#p8").offset().top;
			p9top = $("#p9").offset().top;
			p10top = $("#p10").offset().top;
			p11top = $("#p11").offset().top;
			p12top = $("#p12").offset().top;
			p13top = $("#p13").offset().top;
		}
		if (bullets == true)
		{
			$("#p6").css("left", "-=1");
			$("#p6").css("top", "+=3");
			$("#p7").css("left", "-=1");
			$("#p7").css("top", "-=3");
			$("#p8").css("left", "+=1");
			$("#p8").css("top", "+=3");
			$("#p9").css("left", "+=1");
			$("#p9").css("top", "-=3");
			$("#p10").css("top", "-=3");
			$("#p11").css("top", "+=3");
			$("#p12").css("left", "-=4");
			$("#p13").css("left", "-=4");
			p6left = $("#p6").offset().left;
			p7left = $("#p7").offset().left;
			p8left = $("#p8").offset().left;
			p9left = $("#p9").offset().left;
			p10left = $("#p10").offset().left;
			p11left = $("#p11").offset().left;
			p12left = $("#p12").offset().left;
			p13left = $("#p13").offset().left;
			p6top = $("#p6").offset().top;
			p7top = $("#p7").offset().top;
			p8top = $("#p8").offset().top;
			p9top = $("#p9").offset().top;
			p10top = $("#p10").offset().top;
			p11top = $("#p11").offset().top;
			p12top = $("#p12").offset().top;
			p13top = $("#p13").offset().top;
		}
		if (tr1 == true)
		{
			if (tr1val != 26)
			{
				tr1val++;
				$("#p16").css("top", "-=10");
				p16left = $("#p16").offset().left;
				p16top = $("#p16").offset().top;
			}
		}
		if (tr2 == true)
		{
			if (tr2f == false)
			{
				$("#p17").css("background-color", "orange");
				$("#p17").css("top", "210px");
				$("#p17").css("width", "60px");
				tr2f = true;
			}
			if (tr2val != 27)
			{
				tr2val++;
				$("#p17").css("top", "+=10");
				p17left = $("#p17").offset().left;
				p17top = $("#p17").offset().top;
			}
		}
		if (tr3 == true)
		{
			if (tr3f == false)
			{
				$("#p18").css("left", "-=40px");
				$("#p18").css("width", "80px");
				$("#p19").css("display", "none");
				tr3f = true;
			}
			if (tr3val != 26)
			{
				tr3val++;
				$("#p18").css("top", "-=10");
				p18left = $("#p18").offset().left;
				p18top = $("#p18").offset().top;
			}
		}
		if (tr4 == true)
		{
			if (tr4val != 26)
			{
				tr4val++;
				$("#p20").css("top", "-=10");
				p20left = $("#p20").offset().left;
				p20top = $("#p20").offset().top;
			}
		}
		if (tr5 == true)
		{
			if (tr5val != 20)
			{
				tr5val++;
				$("#p21").css("top", "+=10");
				$("#p21").css("left", "170px");
				$("#p21").css("width", 100);
				p21left = $("#p21").offset().left;
				p21top = $("#p21").offset().top;
			}
		}
		if (tr6 == true)
		{
			if (tr6val != 20)
			{
				tr6val++;
				$("#p22").css("top", "+=10");
				p22left = $("#p22").offset().left;
				p22top = $("#p22").offset().top;
			}
		}
		if (tr7 == true)
		{
			if (tr7val != 20)
			{
				tr7val++;
				$("#p23").css("top", "+=10");
				p23left = $("#p23").offset().left;
				p23top = $("#p23").offset().top;
			}
			else
			{
				$("#p23").css("display", "none");
			}
			if (oncetr8 == false)
			{
				if (tr8val != 92)
				{
					tr8val++;
					$("#p27").css("left", "+=10");
					p27left = $("#p27").offset().left;
					p27top = $("#p27").offset().top;
				}
				else
				{
					oncetr8 = true;
				}
			}
			else
			{
				tr8val++;
				if (tr8val == 150)
				{
					tr8 = true;
				}
			}
			if (tr8 == true)
			{
				if (oncetr8back == false)
				{
					if (backtr8 != 53)
					{
						backtr8++
						$("#p27").css("left", "-=10");
						p27left = $("#p27").offset().left;
						p27top = $("#p27").offset().top;
					}
					else
					{
						$("#p27").css("left", "395px");
						oncetr8back = true;
						backtr8 = 0;
					}
				}
				else
				{
					if (oncetr8done == false)
					{
						backtr8++;
						if (backtr8 > 20)
						{
							$("#p27").css("top", "-=1");
							p27left = $("#p27").offset().left;
							p27top = $("#p27").offset().top;
						}
						if (backtr8 > 69)
						{
							oncetr8done = true;
						}
					}
				}
			}
		}
		if (movetr1 == 40)
		{
			enabletr2 = true;
		}
		if (movetr1 == 80)
		{
			enabletr3 = true;
		}
		if (movetr1 == 120)
		{
			enabletr4 = true;
		}
		if (movetr1 == 160)
		{
			movetr1 = 0;
			$("#p31").css("top", "60px");
		}
		if (movetr2 == 160)
		{
			movetr2 = 0;
			$("#p32").css("top", "60px");
		}
		if (movetr3 == 160)
		{
			movetr3 = 0;
			$("#p33").css("top", "60px");
		}
		if (movetr4 == 160)
		{
			movetr4 = 0;
			$("#p34").css("top", "60px");
		}
		movetr1++;
		$("#p31").css("top", "+=2");
		p31left = $("#p31").offset().left;
		p31top = $("#p31").offset().top;
		if (enabletr2 == true)
		{
			movetr2++;
			$("#p32").css("top", "+=2");
			p32left = $("#p32").offset().left;
			p32top = $("#p32").offset().top;
		}
		if (enabletr3 == true)
		{
			movetr3++;
			$("#p33").css("top", "+=2");
			p33left = $("#p33").offset().left;
			p33top = $("#p33").offset().top;
		}
		if (enabletr4 == true)
		{
			movetr4++;
			$("#p34").css("top", "+=2");
			p34left = $("#p34").offset().left;
			p34top = $("#p34").offset().top;
		}
		if (playerleft + 25 >= p1left && playertop + 25 >= p1top && playerleft <= p1left + document.getElementById("p1").scrollWidth - 1 && playertop <= p1top + document.getElementById("p1").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p2left && playertop + 25 >= p2top && playerleft <= p2left + document.getElementById("p2").scrollWidth - 1 && playertop <= p2top + document.getElementById("p2").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p3left && playertop + 25 >= p3top && playerleft <= p3left + document.getElementById("p3").scrollWidth - 1 && playertop <= p3top + document.getElementById("p3").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p4left && playertop + 25 >= p4top && playerleft <= p4left + document.getElementById("p4").scrollWidth - 1 && playertop <= p4top + document.getElementById("p4").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p5left && playertop + 25 >= p5top && playerleft <= p5left + document.getElementById("p5").scrollWidth - 1 && playertop <= p5top + document.getElementById("p5").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p6left && playertop + 25 >= p6top && playerleft <= p6left + document.getElementById("p6").scrollWidth - 1 && playertop <= p6top + document.getElementById("p6").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p7left && playertop + 25 >= p7top && playerleft <= p7left + document.getElementById("p7").scrollWidth - 1 && playertop <= p7top + document.getElementById("p7").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p8left && playertop + 25 >= p8top && playerleft <= p8left + document.getElementById("p8").scrollWidth - 1 && playertop <= p8top + document.getElementById("p8").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p9left && playertop + 25 >= p9top && playerleft <= p9left + document.getElementById("p9").scrollWidth - 1 && playertop <= p9top + document.getElementById("p9").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p10left && playertop + 25 >= p10top && playerleft <= p10left + document.getElementById("p10").scrollWidth - 1 && playertop <= p10top + document.getElementById("p10").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p11left && playertop + 25 >= p11top && playerleft <= p11left + document.getElementById("p11").scrollWidth - 1 && playertop <= p11top + document.getElementById("p11").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p12left && playertop + 25 >= p12top && playerleft <= p12left + document.getElementById("p12").scrollWidth - 1 && playertop <= p12top + document.getElementById("p12").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p13left && playertop + 25 >= p13top && playerleft <= p13left + document.getElementById("p13").scrollWidth - 1 && playertop <= p13top + document.getElementById("p13").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p14left && playertop + 25 >= p14top && playerleft <= p14left + document.getElementById("p14").scrollWidth - 1 && playertop <= p14top + document.getElementById("p14").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p15left && playertop + 25 >= p15top && playerleft <= p15left + document.getElementById("p15").scrollWidth - 1 && playertop <= p15top + document.getElementById("p15").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p16left && playertop + 20 >= p16top && playerleft <= p16left + document.getElementById("p16").scrollWidth - 1 && playertop <= p16top + document.getElementById("p16").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p17left && playertop + 23 >= p17top && playerleft <= p17left + document.getElementById("p17").scrollWidth - 1 && playertop + 5 <= p17top + document.getElementById("p17").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p18left && playertop + 20 >= p18top && playerleft <= p18left + document.getElementById("p18").scrollWidth - 1 && playertop <= p18top + document.getElementById("p18").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p20left && playertop + 20 >= p20top && playerleft <= p20left + document.getElementById("p20").scrollWidth - 1 && playertop <= p20top + document.getElementById("p20").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p21left && playertop + 25 >= p21top && playerleft <= p21left + document.getElementById("p21").scrollWidth - 1 && playertop <= p21top + document.getElementById("p21").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p22left && playertop + 25 >= p22top && playerleft <= p22left + document.getElementById("p22").scrollWidth - 1 && playertop <= p22top + document.getElementById("p22").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p23left && playertop + 25 >= p23top && playerleft <= p23left + document.getElementById("p23").scrollWidth - 1 && playertop <= p23top + document.getElementById("p23").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p24left && playertop + 25 >= p24top && playerleft <= p24left + document.getElementById("p24").scrollWidth - 1 && playertop <= p24top + document.getElementById("p24").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p25left && playertop + 25 >= p25top && playerleft <= p25left + document.getElementById("p25").scrollWidth - 1 && playertop <= p25top + document.getElementById("p25").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p26left && playertop + 25 >= p26top && playerleft <= p26left + document.getElementById("p26").scrollWidth - 1 && playertop <= p26top + document.getElementById("p26").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p27left && playertop + 25 >= p27top && playerleft + 1 <= p27left + document.getElementById("p27").scrollWidth - 1 && playertop <= p27top + document.getElementById("p27").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p28left && playertop + 25 >= p28top && playerleft <= p28left + document.getElementById("p28").scrollWidth - 1 && playertop <= p28top + document.getElementById("p28").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p29left && playertop + 25 >= p29top && playerleft <= p29left + document.getElementById("p29").scrollWidth - 1 && playertop <= p29top + document.getElementById("p29").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p30left && playertop + 25 >= p30top && playerleft <= p30left + document.getElementById("p30").scrollWidth - 1 && playertop <= p30top + document.getElementById("p30").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p31left && playertop + 25 >= p31top && playerleft <= p31left + document.getElementById("p31").scrollWidth - 1 && playertop <= p31top + document.getElementById("p31").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p32left && playertop + 25 >= p32top && playerleft <= p32left + document.getElementById("p32").scrollWidth - 1 && playertop <= p32top + document.getElementById("p32").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p33left && playertop + 25 >= p33top && playerleft <= p33left + document.getElementById("p33").scrollWidth - 1 && playertop <= p33top + document.getElementById("p33").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p34left && playertop + 25 >= p34top && playerleft <= p34left + document.getElementById("p34").scrollWidth - 1 && playertop <= p34top + document.getElementById("p34").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p35left && playertop + 25 >= p35top && playerleft <= p35left + document.getElementById("p35").scrollWidth - 1 && playertop <= p35top + document.getElementById("p35").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p36left && playertop + 25 >= p36top && playerleft <= p36left + document.getElementById("p36").scrollWidth - 1 && playertop <= p36top + document.getElementById("p36").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p37left && playertop + 25 >= p37top && playerleft <= p37left + document.getElementById("p37").scrollWidth - 1 && playertop <= p37top + document.getElementById("p37").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p38left && playertop + 25 >= p38top && playerleft <= p38left + document.getElementById("p38").scrollWidth - 1 && playertop <= p38top + document.getElementById("p38").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p39left && playertop + 25 >= p39top && playerleft <= p39left + document.getElementById("p39").scrollWidth - 1 && playertop <= p39top + document.getElementById("p39").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p40left && playertop + 25 >= p40top && playerleft <= p40left + document.getElementById("p40").scrollWidth - 1 && playertop <= p40top + document.getElementById("p40").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p41left && playertop + 25 >= p41top && playerleft <= p41left + document.getElementById("p41").scrollWidth - 1 && playertop <= p41top + document.getElementById("p41").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p42left && playertop + 25 >= p42top && playerleft <= p42left + document.getElementById("p42").scrollWidth - 1 && playertop <= p42top + document.getElementById("p42").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p43left && playertop + 25 >= p43top && playerleft <= p43left + document.getElementById("p43").scrollWidth - 1 && playertop <= p43top + document.getElementById("p43").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p44left && playertop + 25 >= p44top && playerleft <= p44left + document.getElementById("p44").scrollWidth - 1 && playertop <= p44top + document.getElementById("p44").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p45left && playertop + 25 >= p45top && playerleft <= p45left + document.getElementById("p45").scrollWidth - 1 && playertop <= p45top + document.getElementById("p45").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p46left && playertop + 25 >= p46top && playerleft <= p46left + document.getElementById("p46").scrollWidth - 1 && playertop <= p46top + document.getElementById("p46").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p47left && playertop + 25 >= p47top && playerleft <= p47left + document.getElementById("p47").scrollWidth - 1 && playertop <= p47top + document.getElementById("p47").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p48left && playertop + 25 >= p48top && playerleft <= p48left + document.getElementById("p48").scrollWidth - 1 && playertop <= p48top + document.getElementById("p48").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p49left && playertop + 25 >= p49top && playerleft <= p49left + document.getElementById("p49").scrollWidth - 1 && playertop <= p49top + document.getElementById("p49").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p50left && playertop + 25 >= p50top && playerleft <= p50left + document.getElementById("p50").scrollWidth - 1 && playertop <= p50top + document.getElementById("p50").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p51left && playertop + 25 >= p51top && playerleft <= p51left + document.getElementById("p51").scrollWidth - 1 && playertop <= p51top + document.getElementById("p51").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p52left && playertop + 25 >= p52top && playerleft <= p52left + document.getElementById("p52").scrollWidth - 1 && playertop <= p52top + document.getElementById("p52").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p53left && playertop + 25 >= p53top && playerleft <= p53left + document.getElementById("p53").scrollWidth - 1 && playertop <= p53top + document.getElementById("p53").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p54left && playertop + 25 >= p54top && playerleft <= p54left + document.getElementById("p54").scrollWidth - 1 && playertop <= p54top + document.getElementById("p54").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p55left && playertop + 25 >= p55top && playerleft <= p55left + document.getElementById("p55").scrollWidth - 1 && playertop <= p55top + document.getElementById("p55").scrollHeight - 1) { lose(); }
		if (playerleft + 25 >= p56left && playertop + 25 >= p56top && playerleft <= p56left + document.getElementById("p56").scrollWidth - 1 && playertop <= p56top + document.getElementById("p56").scrollHeight - 1) { lose(); }
		if (onceleft == true || onceup == true || onceright == true || oncedown == true)
		{
			var dor1top = $("#dor1").offset().top + 10;
			var dor2left = $("#dor2").offset().left + 10;
			if (playerleft + 25 >= checkpoint1left && playertop + 25 >= checkpoint1top && playerleft <= checkpoint1left + 20 && playertop <= checkpoint1top + 20) { $("#c1").css("display", "none"); savefile = 1; }
			if (playerleft + 25 >= checkpoint2left && playertop + 25 >= checkpoint2top && playerleft <= checkpoint2left + 20 && playertop <= checkpoint2top + 20) { $("#c2").css("display", "none"); savefile = 2; getinsane = true; }
			if (playerleft + 25 >= checkpoint3left && playertop + 25 >= checkpoint3top && playerleft <= checkpoint3left + 20 && playertop <= checkpoint3top + 20) { $("#c3").css("display", "none"); savefile = 3; }
			if (playerleft + 25 >= checkpoint4left && playertop + 25 >= checkpoint4top && playerleft <= checkpoint4left + 20 && playertop <= checkpoint4top + 20)
			{
				$("#c4").css("display", "none");
				if (onewin == 0)
				{
					savefile = 4; win = 1; onewin = 1;
				}
			}
			if (playerleft <= dor2left + 15 && playertop >= dor1top + 170) { tr1 = true; }
			if (playerleft <= dor2left + 15 && playertop >= dor1top + 170) { tr1 = true; }
			if (playerleft <= dor2left + 15 && playertop >= dor1top + 170) { tr1 = true; }
			if (playerleft >= dor2left + 50 && playertop >= dor1top + 230) { tr2 = true; }
			if (playerleft >= dor2left + 80 && playertop >= dor1top + 230) { tr3 = true; }
			if (playerleft >= dor2left + 140 && playertop >= dor1top + 230) { tr4 = true; }
			if (playerleft >= dor2left + 180 && playertop >= dor1top + 230) { tr5 = true; }
			if (playerleft >= dor2left + 220 && playertop >= dor1top + 230) { tr6 = true; }
			if (playerleft >= dor2left + 265 && playertop >= dor1top + 230) { tr7 = true; }
		}
		if (win == 1)
		{
			if (savefile == 4)
			{
				win = 0;
				alert("بلاخره تکمیل شد اههاههاااهااهاهاهاهااها");
			}
		}
	}
	function lose()
	{
		//alert("برخورد کردی بدبخت نوب")
		if (savefile == 0)
		{
			$(".player").css("top", "30px");
			$(".player").css("left", "30px");
		}
		if (savefile == 1)
		{
			$(".player").css("top", "227px");
			$(".player").css("left", "78px");
			$("#p16").css("top", 470);
			$("#p16").css("left", 20);
			$("#p16").css("width", 40);
			$("#p17").css("top", 470);
			$("#p17").css("left", 61);
			$("#p17").css("width", 40);
			$("#p17").css("background-color", "deeppink");
			$("#p18").css("top", 470);
			$("#p18").css("left", 102);
			$("#p18").css("width", 40);
			$("#p19").css("top", 470);
			$("#p19").css("left", 143);
			$("#p19").css("width", 40);
			$("#p19").css("display", "block");
			$("#p20").css("top", 470);
			$("#p20").css("left", 184);
			$("#p20").css("width", 40);
			$("#p21").css("top", 271);
			$("#p21").css("left", 225);
			$("#p21").css("width", 40);
			$("#p22").css("top", 271);
			$("#p22").css("left", 272);
			$("#p22").css("width", 40);
			$("#p23").css("top", 271);
			$("#p23").css("left", 319);
			$("#p23").css("width", 40);
			$("#p23").css("display", "block");
			$("#p27").css("top", 440);
			$("#p27").css("left", 10);
			$("#p27").css("height", 40);
			p27left = $("#p27").offset().left;
			p27top = $("#p27").offset().top;
			tr1 = false;
			tr1val = 0;
			tr2 = false;
			tr2f = false;
			tr2val = 0;
			tr3 = false;
			tr3f = false;
			tr3val = 0;
			tr4 = false;
			tr4val = 0;
			tr5 = false;
			tr5val = 0;
			tr6 = false;
			tr6val = 0;
			tr7 = false;
			tr7val = 0;
			tr8 = false;
			tr8val = 0;
			backtr8 = 0;
			oncetr8 = false;
			oncetr8back = false;
			oncetr8done = false;
			fixres();
		}
		if (savefile == 2)
		{
			$(".player").css("top", "448px");
			$(".player").css("left", "899px");
		}
		if (savefile == 3)
		{
			$(".player").css("top", "28px");
			$(".player").css("left", "469px");
		}
		clearInterval(down);
		oncedown = false;
		clearInterval(up);
		onceup = false;
		clearInterval(right);
		onceright = false;
		clearInterval(left);
		onceleft = false;
		var a = "#000000";
		$("#l6-11").css("background-color", a)
		$("#l6-10").css("background-color", a)
		$("#l5-13").css("background-color", a)
		$("#l6-9").css("background-color", a)
	}
	function goleft()
	{
		var dor2left = $("#dor2").offset().left + 10;
		var playerleft = $(".player").offset().left;
		if (playerleft >= dor2left) // برای خارج نشدن از چارچوب
		{
			$(".player").css("left", "-=1");
		}
	}
	function goup()
	{
		var dor1top = $("#dor1").offset().top + 10;
		var playertop = $(".player").offset().top;
		if (playertop >= dor1top) // برای خارج نشدن از چارچوب
		{
			$(".player").css("top", "-=1");
		}
	}
	function godown()
	{
		var dor3top = $("#dor3").offset().top;
		var playertop = $(".player").offset().top;
		if (playertop + 25 <= dor3top) // برای خارج نشدن از چارچوب
		{
			$(".player").css("top", "+=1");
		}
	}
	function goright()
	{
		var dor4left = $("#dor4").offset().left;
		var playerleft = $(".player").offset().left;
		if (playerleft + 25 <= dor4left) // برای خارج نشدن از چارچوب
		{
			$(".player").css("left", "+=1");
		}
	}
	$(document).keyup(function (e) 
	{
		var a = "#000000";
		if (e.keyCode == 40)
		{
			clearInterval(down);
			oncedown = false;
			$("#l6-10").css("background-color", a)
		}
		if (e.keyCode == 39)
		{
			clearInterval(right);
			onceright = false;
			$("#l6-11").css("background-color", a)
		}
		if (e.keyCode == 38)
		{
			clearInterval(up);
			onceup = false;
			$("#l5-13").css("background-color", a)
		}
		if (e.keyCode == 37)
		{
			clearInterval(left);
			onceleft = false;
			$("#l6-9").css("background-color", a)
		}
	});
	$(window).resize(function (e)
	{
		fixres();
	});
});